<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Liora ‚Äî Plano de Estudo Inteligente</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- PDF.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.min.js"></script>
  <script>
    pdfjsLib.GlobalWorkerOptions.workerSrc =
      "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.worker.min.js";
  </script>

  <!-- CSS principal -->
  <link rel="stylesheet" href="/style.css?v=47">
  <link rel="stylesheet" href="/style-simulados.css?v=3">
</head>

<body>

  <!-- HEADER -->
  <header class="max-w-6xl mx-auto px-6 pt-8">
    <div class="flex justify-between items-center">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-2xl bg-[var(--brand)] text-white font-black flex items-center justify-center">
          Li
        </div>
        <div>
          <h1 class="text-xl font-bold">Liora ‚Äî Plano de Estudo Inteligente</h1>
          <p class="text-sm text-[var(--muted)]">Personaliza seu plano de estudo em minutos.</p>
        </div>
      </div>

      <button id="btn-theme" class="btn-secondary" style="padding:.3rem .6rem">üåô</button>
    </div>
  </header>

  <!-- ==============================================
       HOME ‚Äî TELA INICIAL (FULLSCREEN)
       ============================================== -->
  <section id="liora-home"
    class="w-full max-w-xl mx-auto mt-16 px-6 py-10 rounded-xl bg-[var(--surface)] shadow-xl flex flex-col items-center gap-10">

    <h2 class="text-2xl font-semibold text-center tracking-tight text-[var(--fg)]">
      O que voc√™ deseja fazer hoje?
    </h2>

    <!-- ESTUDO -->
    <div class="space-y-3 text-center">
      <h3 class="text-base font-medium tracking-wide text-[var(--muted)]">ESTUDO</h3>
      <div class="flex justify-center gap-4">
        <button id="home-tema" class="btn-secondary px-6 py-2 text-sm">Tema</button>
        <button id="home-upload" class="btn-secondary px-6 py-2 text-sm">Upload</button>
      </div>
    </div>

    <!-- AVALIA√á√ÉO -->
    <div class="space-y-3 text-center">
      <h3 class="text-base font-medium tracking-wide text-[var(--muted)]">AVALIA√á√ÉO</h3>
      <div class="flex justify-center gap-4">
        <button id="home-simulados" class="btn-secondary px-6 py-2 text-sm">Simulados</button>
        <button id="home-dashboard" class="btn-secondary px-6 py-2 text-sm">Meu Desempenho</button>
      </div>
    </div>

  </section>

  <!-- ==============================================
       APP ‚Äî WORKSPACE (MOSTRA AP√ìS ESCOLHA)
       ============================================== -->
  <section id="liora-app" class="hidden max-w-6xl mx-auto px-6 py-10 space-y-10 min-h-[60vh]">

    <!-- T√çTULO SUBSTITU√çVEL -->
    <div>
      <h2 id="liora-view-title" class="text-xl font-bold"></h2>
      <p id="liora-view-subtitle" class="text-sm text-[var(--muted)]"></p>
    </div>

    <!-- PAINEL DE ESTUDO (TEMA / UPLOAD) -->
    <section id="painel-estudo" class="hidden space-y-6">

      <!-- PAINEL TEMA -->
      <div id="painel-tema" class="hidden max-w-lg">
        <label class="text-sm font-medium">Tema de estudo</label>
        <input id="inp-tema" type="text"
          placeholder="Ex.: Direito Constitucional ‚Äî Poder Legislativo"
          class="mb-3 w-full">

        <label class="text-sm font-medium">N√≠vel de conhecimento</label>
        <select id="sel-nivel" class="w-full">
          <option value="iniciante">Iniciante</option>
          <option value="intermediario">Intermedi√°rio</option>
          <option value="avancado">Avan√ßado</option>
        </select>

        <button id="btn-gerar" class="btn w-full mt-3">Gerar plano</button>

        <p id="status" class="text-xs text-[var(--muted)] mt-2"></p>
        <div id="barra-tema" class="liora-progress mt-1 w-full">
          <div id="barra-tema-fill" class="liora-progress__bar"></div>
        </div>
      </div>

      <!-- PAINEL UPLOAD -->
      <div id="painel-upload" class="hidden max-w-lg">
        <label class="text-sm font-medium">Envie seu material</label>
        <label id="upload-zone" class="upload-zone">
          <p id="upload-text">Clique ou arraste um arquivo PDF</p>
          <div id="upload-spinner"></div>
          <input id="inp-file" type="file" accept="application/pdf,.pdf" />
        </label>

        <button id="btn-gerar-upload" class="btn w-full mt-3">Gerar plano</button>

        <p id="status-upload" class="text-xs text-[var(--muted)] mt-2"></p>
        <div id="barra-upload" class="liora-progress mt-1 w-full">
          <div id="barra-upload-fill" class="liora-progress__bar"></div>
        </div>
      </div>

    </section>

    <!-- √ÅREA DO PLANO DE ESTUDO -->
    <div id="area-plano" class="hidden space-y-3 max-w-3xl">
      <div>
        <h3 class="section-title">Seu plano de estudo</h3>
        <p id="ctx" class="text-sm text-[var(--muted)]"></p>
      </div>
      <div id="plano" class="space-y-3"></div>
    </div>

    <!-- WIZARD -->
    <div id="liora-sessoes" class="hidden mt-10 max-w-3xl">
      <h3 id="liora-tema-ativo" class="text-xl font-bold mb-4"></h3>

      <div class="liora-wizard-card">

        <h4 id="liora-sessao-titulo" class="liora-wizard-title"></h4>

        <div class="liora-wizard-section">
          <h5>Objetivo</h5>
          <p id="liora-sessao-objetivo"></p>
        </div>

        <div class="liora-wizard-section">
          <h5>Conte√∫do</h5>
          <div id="liora-sessao-conteudo"></div>
        </div>

        <div class="liora-wizard-section">
          <h5>Analogias</h5>
          <div id="liora-sessao-analogias"></div>
        </div>

        <div class="liora-wizard-section">
          <h5>Ativa√ß√£o</h5>
          <ul id="liora-sessao-ativacao"></ul>
        </div>

        <div class="liora-wizard-section">
          <h5>Teste r√°pido</h5>
          <div id="liora-sessao-quiz"></div>
          <p id="liora-sessao-quiz-feedback" class="liora-quiz-feedback"></p>
        </div>

        <div class="liora-wizard-section">
          <h5>Flashcards</h5>
          <ul id="liora-sessao-flashcards"></ul>
        </div>

        <div class="liora-wizard-section">
          <h5>Mapa Mental</h5>
          <pre id="liora-sessao-mapa" class="liora-mapa-mental"></pre>
        </div>

      </div>

      <div class="liora-wizard-nav mt-6 flex justify-between">
        <button id="liora-btn-voltar" class="btn-secondary">‚óÄ Voltar</button>
        <button id="liora-btn-proxima" class="btn-primary">Pr√≥xima sess√£o ‚ñ∂</button>
      </div>

      <div class="liora-progress mt-4">
        <div id="liora-progress-bar" class="liora-progress__bar"></div>
      </div>
    </div>

    <!-- SIMULADOS -->
    <div id="area-simulado" class="hidden space-y-6 max-w-3xl">
      <p class="text-sm text-[var(--muted)] max-w-xl">
        Monte provas com o perfil da banca, quantidade de quest√µes e tempo de prova que voc√™ preferir.
        Use o bot√£o no canto inferior direito para configurar um novo simulado.
      </p>

      <div class="flex justify-between items-center">
        <div id="sim-timer" class="sim-timer hidden">00:00</div>
        <div class="sim-progress w-48">
          <div id="sim-progress-bar" class="sim-progress-fill"></div>
        </div>
      </div>

      <div id="sim-questao-container" class="space-y-4"></div>

      <div id="sim-nav" class="sim-nav hidden">
        <button id="sim-btn-voltar" class="sim-btn-nav">‚óÄ Voltar</button>
        <button id="sim-btn-proxima" class="sim-btn-nav sim-btn-next">Pr√≥xima ‚ñ∂</button>
      </div>

      <div id="sim-resultado" class="hidden"></div>
    </div>

    <!-- DASHBOARD -->
    <div id="area-dashboard" class="hidden space-y-6 max-w-3xl">

      <div class="flex justify-between items-center">
        <h3 class="section-title">Minha evolu√ß√£o</h3>
        <p class="text-sm text-[var(--muted)]">
          Resumo dos seus simulados neste dispositivo.
        </p>
      </div>

      <p id="dash-empty" class="text-sm text-[var(--muted)]">
        Voc√™ ainda n√£o fez nenhum simulado. Assim que concluir o primeiro, o resumo aparecer√° aqui.
      </p>

      <div id="dash-resumo" class="grid gap-3 md:grid-cols-3 text-sm"></div>
      <div id="dash-bancas" class="mt-4"></div>
      <div id="dash-ultimos" class="mt-4"></div>
    </div>

  </section>

  <!-- BOT√ÉO FLUTUANTE ‚Äî VOLTAR AO IN√çCIO -->
  <button id="fab-home" class="liora-fab-home">‚¨Ö In√≠cio</button>

  <!-- BOT√ÉO FLUTUANTE ‚Äî CONFIGURAR SIMULADO (gerado pelo simulados.js) -->

  <!-- SCRIPTS -->
  <script src="scripts/pdf-extractor.js"></script>
  <script src="scripts/pdf-structure.js"></script>
  <script src="scripts/outline-generator.js"></script>
  <script src="scripts/semantic.js"></script>

  <script src="scripts/simulados.js?v=3"></script>
  <script src="scripts/dashboard.js?v=1"></script>
  <script src="scripts/nav-home.js"></script>
  <script src="scripts/core.js"></script>

  <div id="liora-build-info">Liora v70-COMMERCIAL-APP-FINAL</div>

</body>
</html>
