<!DOCTYPE html>
<html lang="pt-BR" class="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Liora â€” EspaÃ§o de Estudo</title>
  <meta name="description" content="Liora Ã© um espaÃ§o inteligente e tranquilo de estudo guiado, com temas personalizÃ¡veis e simulados interativos." />

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- PDF.js + Worker -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.min.js"></script>
  <script>
    pdfjsLib.GlobalWorkerOptions.workerSrc =
      "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.worker.min.js";
  </script>

  <!-- Estilos -->
  <link rel="stylesheet" href="/style.css?v=5" />
</head>

<body class="dark">
  <!-- ===================================================== -->
  <!-- ğŸ” CabeÃ§alho -->
  <!-- ===================================================== -->
  <header class="max-w-5xl mx-auto px-4 pt-8">
    <div class="flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-2xl flex items-center justify-center text-white font-black" style="background:var(--brand)">Li</div>
        <div>
          <h1 class="text-xl font-bold">Liora â€” EspaÃ§o de Estudo <span class="dot" title="online"></span></h1>
          <p class="text-sm text-[var(--muted)]">Ambiente inteligente para aprender com foco.</p>
        </div>
      </div>
      <div class="flex items-center gap-2">
        <button id="btn-theme" class="chip" role="button" tabindex="0" title="Alternar tema">ğŸŒ™</button>
        <span class="chip">SessÃ£o salva</span>
        <button id="btn-reset" class="chip" title="Limpar estado"><span class="kbd">Reset</span></button>
      </div>
    </div>
  </header>

  <!-- ===================================================== -->
  <!-- ğŸ’¡ Ãrea principal -->
  <!-- ===================================================== -->
  <main class="max-w-5xl mx-auto px-4 py-8 grid lg:grid-cols-3 gap-6">
    <!-- ğŸ§© Painel esquerdo -->
    <section class="lg:col-span-1 card p-5">
      <h2 class="section-title mb-1">Configurar estudo</h2>
      <p class="text-sm text-[var(--muted)] mb-4">
        Escolha um tema ou envie seu material para criar um plano personalizado com sessÃµes e desafios.
      </p>

      <label class="block text-sm font-medium mb-1">Tema</label>
      <input id="inp-tema" type="text" placeholder="Ex.: Direito Constitucional, MatemÃ¡tica, IA Generativa" class="mb-3" />

      <div class="text-center my-2 text-xs text-[var(--muted)]">ou</div>

      <label class="block text-sm font-medium mb-1">Upload de material</label>
      <label id="upload-zone" class="upload-zone">
        <div id="upload-icon">ğŸ“</div>
        <p id="upload-text">Clique aqui ou arraste um arquivo (.txt, .pdf)</p>
        <div id="upload-spinner"></div>
        <input id="inp-file" type="file" accept=".pdf,.txt" />
      </label>
      <p id="file-name" class="text-[11px] text-[var(--muted)] mt-2"></p>
      <p id="file-type" class="text-[12px] text-[var(--muted)] mt-1 italic"></p>
      <p class="text-[11px] text-[var(--muted)] mt-1">Arquivos TXT e PDF sÃ£o suportados neste protÃ³tipo.</p>

      <div class="mt-4 grid grid-cols-2 gap-3">
        <div>
          <label class="block text-sm font-medium mb-1">SessÃµes</label>
          <select id="sel-dias">
            <option>5</option>
            <option>7</option>
            <option>10</option>
          </select>
        </div>
      </div>

      <button id="btn-gerar" class="btn w-full mt-5">Gerar plano</button>
      <p id="status" class="text-xs text-[var(--muted)] mt-2"></p>
    </section>

    <!-- ğŸ“˜ Painel direito -->
    <section class="lg:col-span-2 card p-5">
      <div class="flex items-center justify-between mb-3">
        <h2 class="section-title">Seu plano de estudo</h2>
        <div class="text-sm text-[var(--muted)]" id="ctx"></div>
      </div>
      <div id="plano" class="space-y-3"></div>
    </section>
  </main>

  <!-- ===================================================== -->
  <!-- ğŸ“˜ RodapÃ© -->
  <!-- ===================================================== -->
  <footer class="max-w-5xl mx-auto px-4 pb-10 text-xs text-[var(--muted)] text-center">
    <p>Liora â€” um ambiente de estudo guiado e inspirador. Â© Intellih</p>
  </footer>

<!-- ==========================================================
ğŸ“œ Ordem ideal dos scripts â€” Liora Inteligente
=========================================================== -->

<!-- 1ï¸âƒ£ â€” NÃºcleo semÃ¢ntico: fornece a funÃ§Ã£o analisarSemantica -->
<script src="/scripts/semantic.js?v=7" defer></script>

<!-- 2ï¸âƒ£ â€” NÃºcleo lÃ³gico: depende do semantic.js para gerar planos -->
<script src="/scripts/core.js?v=5" defer></script>

<!-- 3ï¸âƒ£ â€” Interface de temas: usa o estado global do core -->
<script src="/scripts/temas.js?v=7" defer></script>

<!-- 4ï¸âƒ£ â€” Plano simulador: depende de semantic + core -->
<script src="/scripts/plano-simulador.js?v=7" defer></script>

<!-- 5ï¸âƒ£ â€” DiagnÃ³stico: opcional, deve ficar por Ãºltimo -->
<script src="/scripts/diagnostico.js?v=7" defer></script>

<!-- ==========================================================
ğŸ§© DiagnÃ³stico visual automÃ¡tico (para debug no console)
=========================================================== -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const scripts = [
    { name: "semantic.js", ok: typeof window.analisarSemantica === "function" },
    { name: "core.js", ok: typeof window.state !== "undefined" },
    { name: "temas.js", ok: typeof window.LioraTemas !== "undefined" },
    { name: "plano-simulador.js", ok: typeof window.LioraSimulador !== "undefined" }
  ];

  console.groupCollapsed("ğŸ§© DiagnÃ³stico de carregamento â€” Liora");
  scripts.forEach(s => console.log(`${s.ok ? "ğŸŸ¢" : "ğŸ”´"} ${s.name} ${s.ok ? "carregado" : "nÃ£o detectado"}`));
  console.groupEnd();

  const aviso = document.createElement("div");
  aviso.style.position = "fixed";
  aviso.style.bottom = "14px";
  aviso.style.left = "14px";
  aviso.style.fontSize = "11px";
  aviso.style.color = "#fff";
  aviso.style.background = "rgba(0,0,0,0.5)";
  aviso.style.padding = "6px 10px";
  aviso.style.borderRadius = "8px";
  aviso.style.zIndex = "4000";
  aviso.style.fontFamily = "monospace";
  aviso.textContent = "ğŸ§  Liora carregada com verificaÃ§Ã£o automÃ¡tica";
  document.body.appendChild(aviso);
  setTimeout(() => aviso.remove(), 3500);
});
</script>

</body>
</html>
