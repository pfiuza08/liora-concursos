<!DOCTYPE html>
<html lang="pt-BR" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Liora IA ‚Äî Microlearning Inteligente</title>
  <meta name="description" content="Liora √© uma agente de microlearning baseada em IA que cria planos de estudo personalizados a partir de temas ou arquivos enviados." />
  <link rel="icon" type="image/png" href="/favicon.png" />
  <link rel="stylesheet" href="style.css?v=39">

  <!-- üîπ Tailwind apenas para prototipagem -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- PDF.js para leitura de arquivos -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>

  <!-- Build info -->
  <script>
    const BUILD_VERSION = "v39-" + new Date().toISOString().slice(0,10);
  </script>
</head>

<body>
  <div class="liora-grid fade-in">
    <!-- ================================
         üß≠ Painel Esquerdo ‚Äî Entrada
    ===================================-->
    <div class="liora-card">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
        <h3 style="margin:0;">üß† Liora IA</h3>
        <button id="btn-theme" class="btn-secondary">üåô</button>
      </div>

      <div style="display:flex;gap:8px;margin-bottom:12px;">
        <button id="modo-tema" class="btn-secondary selected">Tema</button>
        <button id="modo-upload" class="btn-secondary">Upload</button>
      </div>

      <!-- üîπ Gera√ß√£o por Tema -->
      <div id="painel-tema">
        <label for="inp-tema"><strong>Tema</strong></label>
        <input id="inp-tema" type="text" placeholder="Ex: Crase na l√≠ngua portuguesa">

        <label for="sel-nivel"><strong>N√≠vel</strong></label>
        <select id="sel-nivel">
          <option>Iniciante</option>
          <option>Intermedi√°rio</option>
          <option>Avan√ßado</option>
        </select>

        <button id="btn-gerar" class="btn" style="width:100%;margin-top:12px;">Gerar Plano</button>
        <p id="ctx" style="font-size:.85rem;opacity:.75;margin-top:8px;"></p>
      </div>

      <!-- üîπ Gera√ß√£o por Upload -->
      <div id="painel-upload" class="hidden">
        <label><strong>Enviar arquivo (PDF ou TXT)</strong></label>
        <div class="upload-zone">
          <input id="inp-file" type="file" accept=".pdf,.txt" />
          <span id="upload-text">Clique ou arraste um arquivo aqui</span>
          <div id="upload-spinner"></div>
        </div>
        <button id="btn-gerar-upload" class="btn" style="width:100%;margin-top:12px;">Gerar a partir do arquivo</button>
        <p id="status-upload" style="font-size:.85rem;opacity:.75;margin-top:8px;"></p>
      </div>
    </div>

    <!-- ================================
         üìò Painel Direito ‚Äî Plano e Sess√µes
    ===================================-->
    <div>
      <div class="liora-card">
        <h3>üìö Plano de Estudo</h3>
        <div id="plano"></div>
      </div>

      <div id="liora-sessoes" class="liora-wizard hidden">
        <div class="liora-wizard__header">
          <h3 id="liora-sessao-titulo">Sess√£o</h3>
          <div class="liora-progress">
            <div id="liora-progress-bar" class="liora-progress__bar"></div>
          </div>
        </div>

        <div class="liora-card liora-block animate-divider">
          <h4>Objetivo</h4>
          <p id="liora-sessao-objetivo"></p>
        </div>

        <div class="liora-card liora-block animate-divider">
          <h4>Conte√∫do</h4>
          <div id="liora-sessao-conteudo"></div>
        </div>

        <div class="liora-card liora-block animate-divider">
          <h4>Analogias</h4>
          <div id="liora-sessao-analogias"></div>
        </div>

        <div class="liora-card liora-block animate-divider">
          <h4>Ativa√ß√£o</h4>
          <ul id="liora-sessao-ativacao"></ul>
        </div>

        <div class="liora-card liora-block animate-divider">
          <h4>Teste R√°pido</h4>
          <div id="liora-sessao-quiz"></div>
          <p id="liora-sessao-quiz-feedback" style="margin-top:6px;font-size:.9rem;"></p>
        </div>

        <div class="liora-card liora-block">
          <h4>Flashcards</h4>
          <ul id="liora-sessao-flashcards"></ul>
        </div>

        <div style="display:flex;justify-content:space-between;margin-top:16px;">
          <button id="liora-btn-voltar" class="liora-btn secondary">‚Üê Anterior</button>
          <button id="liora-btn-proxima" class="liora-btn primary">Pr√≥xima ‚Üí</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ================================
       ‚öôÔ∏è SCRIPTS (com bust de cache)
  ===================================-->
  <script>
    const ts = Date.now();
    document.write(`<script src="/scripts/semantic.js?v=${ts}"><\/script>`);
    document.write(`<script src="/scripts/core.js?v=${ts}"><\/script>`);
  </script>

  <!-- Build info discreta -->
  <div id="liora-build-info">Liora v39</div>
</body>
</html>
